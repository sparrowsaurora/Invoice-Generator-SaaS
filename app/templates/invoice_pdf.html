<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <style>
            body {
                font-family: "Helvetica Neue", sans-serif;
                padding: 2em;
                color: #333;
                background: #fff;
            }
            h1,
            h4 {
                color: #007bff;
                margin-bottom: 0.5em;
            }
            .container {
                max-width: 900px;
                margin: auto;
            }
            .card {
                border: 1px solid #ddd;
                border-radius: 6px;
                margin-bottom: 2em;
                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            }
            .card-header {
                background-color: #f8f9fa;
                padding: 0.75em 1.25em;
                font-weight: 700;
                border-bottom: 1px solid #ddd;
                border-radius: 6px 6px 0 0;
            }
            .card-body {
                padding: 1em 1.25em;
            }
            table {
                width: 100%;
                border-collapse: collapse;
                margin-bottom: 0;
            }
            th,
            td {
                padding: 0.75em 1em;
                border: 1px solid #ddd;
                text-align: left;
            }
            th {
                background-color: #f8f9fa;
                font-weight: 600;
            }
            .btn {
                display: inline-block;
                padding: 0.5em 1.2em;
                font-size: 1rem;
                font-weight: 500;
                color: #007bff;
                border: 1px solid #007bff;
                border-radius: 4px;
                background: transparent;
                text-decoration: none;
                cursor: pointer;
                margin-right: 1em;
                user-select: none;
            }
            .btn-outline-primary:hover {
                background-color: #007bff;
                color: #fff;
            }
            .btn-outline-secondary {
                border-color: #6c757d;
                color: #6c757d;
            }
            .btn-outline-secondary:hover {
                background-color: #6c757d;
                color: #fff;
            }
            .text-right {
                text-align: right;
            }
            .footer {
                margin-top: 4em;
                font-size: 0.85em;
                color: #888;
                text-align: center;
            }
            .logo {
                max-height: 80px;
                margin-left: auto;
            }
            .header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                border-bottom: 2px solid #007bff;
                margin-bottom: 2em;
                padding-bottom: 1em;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="header">
                <div>
                    <h1>Invoice #{{ invoice.id }}</h1>
                    <p><strong>{{ invoice.company_name }}</strong></p>
                    <p>Due: {{ invoice.due_date }}</p>
                </div>
                {% if invoice.logo_filename %}
                <div>
                    <img
                        src="{{ url_for('static', filename='logos/' + invoice.logo_filename) }}"
                        alt="Company Logo"
                        class="logo"
                    />
                </div>
                {% endif %}
            </div>

            <div class="card">
                <div class="card-body">
                    <h4>{{ invoice.client_name }}</h4>
                    <p><strong>Company:</strong> {{ invoice.company_name }}</p>
                    <p><strong>Service:</strong> {{ invoice.service }}</p>
                    <p>
                        <strong>Amount:</strong> ${{
                        "%.2f"|format(invoice.amount) }}
                    </p>
                    <p><strong>Date:</strong> {{ invoice.date }}</p>
                    <p><strong>Due Date:</strong> {{ invoice.due_date }}</p>
                    <p><strong>Status:</strong> {{ invoice.status }}</p>
                </div>
            </div>

            <div class="card">
                <div class="card-header">Items</div>
                <div class="card-body p-0">
                    <table>
                        <thead>
                            <tr>
                                <th>Description</th>
                                <th>Quantity</th>
                                <th>Unit Price ($)</th>
                                <th>Total ($)</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for item in items %}
                            <tr>
                                <td>{{ item.description }}</td>
                                <td>{{ item.quantity }}</td>
                                <td>{{ "%.2f"|format(item.unit_price) }}</td>
                                <td>
                                    {{ "%.2f"|format(item.quantity *
                                    item.unit_price) }}
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="text-right">
                <p>
                    <strong>Total: ${{ "%.2f"|format(invoice.amount) }}</strong>
                </p>
            </div>

            <div class="footer">
                <p>Thank you for your business!</p>
            </div>
        </div>
    </body>
</html>
